<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GES Performance Pro</title>
    <style>
        :root {
            --primary: #2563eb;
            --accent: #3b82f6;
            --success: #10b981;
            --danger: #ef4444;
            --bg: #0f172a;
            --card: rgba(255, 255, 255, 0.95);
        }
        
        body { 
            font-family: 'Inter', 'PingFang TC', sans-serif; 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            display: flex; justify-content: center; align-items: center; 
            min-height: 100vh; margin: 0; color: #1e293b;
        }

        .container { 
            width: 90%; max-width: 420px; background: var(--card); 
            padding: 30px; border-radius: 28px; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        h2 { text-align: center; color: var(--bg); margin-bottom: 25px; font-weight: 800; font-size: 1.5rem; letter-spacing: -0.5px; }
        
        .form-group { margin-bottom: 20px; text-align: center; } /* 標題置中 */
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #64748b; font-size: 13px; text-transform: uppercase; }
        
        select, input { 
            width: 100%; padding: 14px; border: 2px solid #e2e8f0; 
            border-radius: 14px; font-size: 16px; box-sizing: border-box;
            background-color: #fff; transition: all 0.2s ease;
            text-align: center; /* 這裡讓輸入的文字置中 */
        }
        
        /* 針對下拉選單內容置中 (部分瀏覽器支援) */
        select { text-align-last: center; }

        input:focus, select:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1); }

        .score-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 16px; 
            background: #f8fafc; padding: 18px; border-radius: 20px; margin-bottom: 24px;
        }

        button { 
            width: 100%; padding: 16px; background: #2563eb;
            color: white; border: none; border-radius: 16px; font-size: 16px; font-weight: 700; 
            cursor: pointer; transition: all 0.3s;
        }
        button:hover { background: #1d4ed8; transform: translateY(-1px); }

        .result-box { 
            margin-top: 25px; border-radius: 20px; display: none; 
            background: #ffffff; border: 1px solid #f1f5f9; padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            text-align: center; /* 結果區塊文字置中 */
        }
        .res-title { font-size: 12px; color: #94a3b8; margin-bottom: 12px; border-bottom: 1px solid #f1f5f9; padding-bottom: 8px; }
        .res-row { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 10px 0; }
        .tag { padding: 5px 12px; border-radius: 10px; font-weight: 700; font-size: 12px; letter-spacing: 0.5px; }
        .tag-osat { background: #dbeafe; color: #1e40af; }
        .tag-sos { background: #fef3c7; color: #92400e; }
        .gap-num { color: var(--danger); font-size: 1.1em; font-weight: 800; }
        .pass-text { color: var(--success); font-weight: 700; }
        .res-divider { width: 100%; height: 1px; background: #f1f5f9; margin: 5px 0; }
    </style>
</head>
<body>

<div class="container">
    <h2>GES Performance</h2>
    
    <div class="form-group">
        <label>Manager (AC)</label>
        <select id="manager">
            <option value="Renee">Renee</option>
            <option value="Ean">Ean</option>
            <option value="Carol">Carol</option>
            <option value="Chance">Chance</option>
            <option value="Jewel">Jewel</option>
        </select>
    </div>

    <div class="form-group">
        <label>Total Survey Count</label>
        <input type="number" id="totalCount" placeholder="0" inputmode="numeric">
    </div>

    <div class="score-grid">
        <div class="form-group" style="margin-bottom:0">
            <label>Current OSAT %</label>
            <input type="number" id="osatScore" step="0.1" placeholder="0.0">
        </div>
        <div class="form-group" style="margin-bottom:0">
            <label>Current SOS %</label>
            <input type="number" id="sosScore" step="0.1" placeholder="0.0">
        </div>
    </div>

    <button onclick="calculate()">Calculate Deficit</button>

    <div id="resultBox" class="result-box">
        <div class="res-title" id="resHeader"></div>
        
        <div class="res-row">
            <span class="tag tag-osat">OSAT</span>
            <span id="osatVal"></span>
        </div>
        
        <div class="res-divider"></div>
        
        <div class="res-row">
            <span class="tag tag-sos">SOS</span>
            <span id="sosVal"></span>
        </div>
    </div>
</div>

<script>
    function calculate() {
        const manager = document.getElementById('manager').value;
        const n = parseFloat(document.getElementById('totalCount').value);
        const sOsat = parseFloat(document.getElementById('osatScore').value);
        const sSos = parseFloat(document.getElementById('sosScore').value);
        const target = 81;

        if (isNaN(n) || n <= 0) {
            alert("請輸入有效的總份數");
            return;
        }

        document.getElementById('resHeader').innerText = `${manager} · Target 81%`;
        document.getElementById('resultBox').style.display = "block";

        updateRow('osatVal', n, sOsat, target);
        updateRow('sosVal', n, sSos, target);
    }

    function updateRow(elementId, n, score, target) {
        const el = document.getElementById(elementId);
        if (isNaN(score)) {
            el.innerHTML = "<span style='color:#cbd5e1'>No Data</span>";
            return;
        }
        
        if (score >= target) {
            el.innerHTML = `<span class="pass-text">Reached ✓</span>`;
        } else {
            const gap = Math.ceil((n * (target - score)) / (100 - target));
            el.innerHTML = `Need <span class="gap-num">+${gap}</span> (100%)`;
        }
    }
</script>

</body>
</html>
