<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>成績達成計算器</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f4f7f6; }
        .card { max-width: 400px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        h2 { color: #333; text-align: center; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        select, input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; }
        button:hover { background-color: #0056b3; }
        #result { margin-top: 20px; padding: 15px; border-radius: 6px; display: none; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .info { background-color: #e2e3e5; color: #383d41; }
    </style>
</head>
<body>

<div class="card">
    <h2>問卷成績計算器</h2>
    
    <div class="form-group">
        <label>區經理</label>
        <select id="manager">
            <option value="Manager A">經理 A</option>
            <option value="Manager B">經理 B</option>
            <option value="Manager C">經理 C</option>
            <option value="Manager D">經理 D</option>
            <option value="Manager E">經理 E</option>
        </select>
    </div>

    <div class="form-group">
        <label>考核指標</label>
        <select id="metric">
            <option value="OSAT">OSAT</option>
            <option value="SOS">SOS</option>
        </select>
    </div>

    <div class="form-group">
        <label>目前總份數</label>
        <input type="number" id="currentCount" placeholder="例如: 50" min="1">
    </div>

    <div class="form-group">
        <label>目前成績 (%)</label>
        <input type="number" id="currentScore" placeholder="例如: 75" step="0.1" min="0" max="100">
    </div>

    <button onclick="calculate()">計算缺口</button>

    <div id="result"></div>
</div>

<script>
    function calculate() {
        const n = parseFloat(document.getElementById('currentCount').value);
        const S = parseFloat(document.getElementById('currentScore').value);
        const T = 81; // 目標成績
        const resultDiv = document.getElementById('result');
        const manager = document.getElementById('manager').value;
        const metric = document.getElementById('metric').value;

        if (isNaN(n) || isNaN(S)) {
            alert("請輸入正確的份數與成績");
            return;
        }

        resultDiv.style.display = "block";
        
        if (S >= T) {
            resultDiv.className = "success";
            resultDiv.innerHTML = `<strong>${manager}</strong> 的 ${metric} 成績已達標！目前平均為 ${S}%。`;
        } else {
            // 計算公式: x = n * (T - S) / (100 - T)
            const gap = Math.ceil((n * (T - S)) / (100 - T));
            resultDiv.className = "info";
            resultDiv.innerHTML = `
                <strong>${manager}</strong> 目前 ${metric}: ${S}% (${n}份)<br>
                還需要增加 <strong>${gap}</strong> 份 <strong>100%</strong> 的問卷才能達到 81%。
            `;
        }
    }
</script>

</body>
</html>